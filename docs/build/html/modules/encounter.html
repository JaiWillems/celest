<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Encounter Module &mdash; Celest 0.2.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Satellite Module" href="satellite.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/celest_documentation_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guide/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/contributing.html">Contributing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="satellite.html">Satellite Module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Encounter Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#groundposition-class">GroundPosition Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#window-generation">Window Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#windows-class">Windows Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#satellite-attitudes">Satellite Attitudes</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Celest</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Encounter Module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/modules/encounter.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="encounter-module">
<h1>Encounter Module<a class="headerlink" href="#encounter-module" title="Permalink to this headline"></a></h1>
<section id="groundposition-class">
<h2>GroundPosition Class<a class="headerlink" href="#groundposition-class" title="Permalink to this headline"></a></h2>
<p>The <cite>GroundPosition</cite> class is used to represent a ground location that can be
passed into window generation functionality to produce viable ground-satellite
encounter opportunities. Currently, the <cite>GroundPosition</cite> class is fairly
preliminary but will be expanded in the future to accomidate more specific and
complicated ellipsoid models based on the input geographical coordinates.</p>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">celest.encounter.</span></span><span class="sig-name descname"><span class="pre">GroundPosition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">latitude</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">longitude</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Localize Earth bound location information.</p>
<p>The <cite>GoundPosition</cite> class stores ground location information and is an
instrumental part of encounter planning functionality.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>latitude</strong> (<em>float</em>) – Locations geodetic lattitude in degrees and decimals.</p></li>
<li><p><strong>longitude</strong> (<em>float</em>) – Locations geodetic longitude in degrees and decimals.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">lat</span></span></dt>
<dd><p>Geodetic latitude for the location given in degrees and decimals.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">lon</span></span></dt>
<dd><p>Geodetic longitude for the location given in degrees and decimals.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">radius</span></span></dt>
<dd><p>Earth’s radius at the given coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="window-generation">
<h2>Window Generation<a class="headerlink" href="#window-generation" title="Permalink to this headline"></a></h2>
<p>The window generation function takes produces all viable encounter
opportunities of a specifie type for a given satellite and ground location.</p>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">celest.encounter.windows.</span></span><span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">satellite</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enc</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">'image'</span><span class="p"><span class="pre">,</span> </span><span class="pre">'data</span> <span class="pre">link'</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ang</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">celest.encounter._window_handling.Windows</span></span></span></dt>
<dd><p>Return encounter windows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>satellite</strong> (<em>Satellite</em>) – Satellite taking part in ground interactions.</p></li>
<li><p><strong>location</strong> (<em>GroundPosition</em>) – Ground location of imaging site or ground station.</p></li>
<li><p><strong>enc</strong> (<em>{&quot;image&quot;</em><em>, </em><em>&quot;data link&quot;}</em>) – Type of encounter as being an imaging or data link encounter.</p></li>
<li><p><strong>ang</strong> (<em>float</em>) – Encounter contraint angle in degrees.</p></li>
<li><p><strong>factor</strong> (<em>int</em><em>, </em><em>optional</em>) – Data interpolation factor for more precise encounter information, by
default 5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The encounter opportunities between the satellite and ground location
of the type specified.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Windows</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p class="rubric">Examples</p>
</dd></dl>

</section>
<section id="windows-class">
<h2>Windows Class<a class="headerlink" href="#windows-class" title="Permalink to this headline"></a></h2>
<p>The <cite>Windows</cite> class is the returned data structure from the <cite>generate</cite> function
which holds all encounter opportunities and provides some basic functionality
to gain insight or access to the data.</p>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">celest.encounter._window_handling.</span></span><span class="sig-name descname"><span class="pre">Windows</span></span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">save_encounters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delimiter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">','</span><span class="p"><span class="pre">,</span> </span><span class="pre">'\\t'</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd><p>Save encounter information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<em>str</em>) – File name to save encounter information to.</p></li>
<li><p><strong>delimiter</strong> (<em>{&quot;</em><em>,</em><em>&quot;</em><em>, </em><em>&quot;t&quot;}</em>) – String or character separating columns.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">stats</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span></dt>
<dd><p>Return enocunter statistics.</p>
<p>This method returns statistics on the stored encounters. The statistics
include the 5th, 50th, and 95th percentile of encounter durations as
well as the enocounter frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Data base of encounter statistics.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Assuming <cite>toronto_img</cite> is a <cite>Windows</cite> object returned from the windows
generation function.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">toronto_img</span><span class="o">.</span><span class="n">stats</span><span class="p">()</span>
<span class="go">                               (45, -73), image</span>
<span class="go">Q5 Duration (s)                      108.468446</span>
<span class="go">Q50 Duration (s)                     167.687443</span>
<span class="go">Q75 Duration (s)                     177.506299</span>
<span class="go">Encounter Frequency (per day)          1.340795</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">to_numpy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.array</span></span></span></dt>
<dd><p>Return windows within a NumPy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Array containing window data.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>np.ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Assuming <cite>toronto_img</cite> is a <cite>Windows</cite> object returned from the windows
generation function.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">toronto_img</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="go">array([&lt;celest.encounter._window_handling.Window object at 0x0000023FA0D8DFD0&gt;,</span>
<span class="go">       &lt;celest.encounter._window_handling.Window object at 0x0000023FF0757940&gt;,</span>
<span class="go">       &lt;celest.encounter._window_handling.Window object at 0x0000023FA10D5E50&gt;,</span>
<span class="go">       &lt;celest.encounter._window_handling.Window object at 0x0000023FA10D5CA0&gt;],</span>
<span class="go">       dtype=object)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="satellite-attitudes">
<h2>Satellite Attitudes<a class="headerlink" href="#satellite-attitudes" title="Permalink to this headline"></a></h2>
<p>The <cite>attitudes</cite> function is used to determine the rotation matrices of the
satellite necessary to orient a down facing camera towards an ground location
for target tracking that may be neccessary to fulfill a remote sensing mission
objective.</p>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">celest.encounter.attitudes.</span></span><span class="sig-name descname"><span class="pre">attitudes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encInd</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maneuverTime</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">scipy.spatial.transform.rotation.Rotation</span></span></span></dt>
<dd><p>Generate satellite rotations for ground tracking.</p>
<p>This function is intended to take in a single ground location along
with the windows at which the spacecraft makes imaging passes over the
location. This method uses the Odyssey Pointing Profile
determination system created by Mingde Yin.</p>
<p>NOTE: This should be generalized in the future to many sites.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> (<em>GroundPosition</em>) – Ground location and encounter information.</p></li>
<li><p><strong>encInd</strong> (<em>np.ndarray</em>) – Array of arrays of indices that correspond to times and positions
where the spacecraft is in an imaging encounter window with the
given ground location.</p></li>
<li><p><strong>maneuverTime</strong> (<em>float</em>) – Number of array indices to pad on either side of
an encounter window to use for maneuvering time.
TODO: Turn into a standard time unit since setting a fixed number
of array indices is limited.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The strategy for pointing profile generation is as follows: (1) The default
orientation is to have the spacecraft camera pointing towards its zenith.
(2) When the spacecraft is imaging, orient the satellite such that the
camera is facing the target. (3) Generate an initial set of pointing
profiles assuming the above. (4) Interpolate the rotations between the
normal and target-acquired states to smooth out transitions.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="satellite.html" class="btn btn-neutral float-left" title="Satellite Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Jai Willems.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>